

// /Users/ir/Desktop/atem_backend/node_modules/index.js

const admin = require('firebase-admin');
const express = require('express');
const app = express();

admin.initializeApp({
  // ... あなたのFirebaseプロジェクトの設定
});

app.post('/generateCustomToken', async (req, res) => {
  // ここでPasskeyの検証を行います。
  // 検証が成功したら、Firebaseのカスタムトークンを生成します。
  const uid = "some-unique-id-for-user"; // このUIDは、あなたのシステム内でユーザを一意に識別するものです。
  const customToken = await admin.auth().createCustomToken(uid);
  res.send({ customToken });
});

// ... 他のエンドポイントや設定
